/***************************************************************************************************
Notes: 
***************************************************************************************************/
#include "PWM.h"
#include "Timer.h"

/***************************************************************************************************
Global Variables:
***************************************************************************************************/
double PWMLength = 0;
double percentage = 0.0;

/***************************************************************************************************
Function Definitions:
***************************************************************************************************/

void SetPWM(unsigned int period, double percent)
{
    period = period * 100;
    double math = period * percent;

    /************************************************
    HPS Timer:
    ************************************************/
    *(HPSTimerPtr + 2) &= ~(1 << 0); // E = 0
    *(HPSTimerPtr) = (int)math; // load value
    *(HPSTimerPtr + 2) |= (1 << 1); // M = 1
    *(HPSTimerPtr + 2) |= (1 << 0); // E = 1

}